## VPCとは
AWS上に仮想ネットワークを構成できるサービス

AWS内に自分の敷地を作るイメージ

1a: CIDRブロック 10.0.1.0/24

1c: CIDRブロック 10.0.2.0/24

これは、1.VPCの作成で作成した、CIDRブロック10.0.0.0/16のVPC、つまり、10.0が必ず頭につく65536個のIPアドレスの中から、10.0.1が頭につく256個のIPアドレスを1aという名前でグループ化し、10.0.2が頭につく256個のIPアドレスを1cという名前でグループ化した。といった意味合い

## サブネット
VPCを細かく区切ったものをサブネットという

アベイラビリティゾーン内につくる

同じVPCの中でも役割の異なるいくつかのグループにわけ、このグループを「外部接続グループ」「内部接続グループ」といった具合にグループ化し、機能を整備していくことがサブネットの主な役割

## インターネットゲートウェイ
VPCとインターネットの通信に使われるもの

## セキュリティグループ
セキュリティーに関するルールをまとめたもの

「この通信は許可」「この通信は拒否」といった具合に、適応されたグループ毎にルールを設定することが可能

- タイプ　　受け入れる通信のタイプ
- プロトコル　　通信を行う際のルール
- ポート番号　　実行するプログラムを識別
- ソース　　通信をきょかするIPアドレスを記述

## 気をつけるべき点
- IPアドレスはプライベートが推奨
- IPアドレスの範囲は後から変更できないので大きめにする　/16が推奨
- アカウントはシステム毎に分ける
- 同一システムで環境が違う場合
1. VPCを分ける　IAMの設定が一度で済むが、各環境のリソースが見えるので事故のもとになる可能性
2. アカウントを分ける　IAMの設定が都度必要でやや面倒だが、作業はしやすい

VPCとリージョンを分けるのがやりやすかった
- サブネットのIPアドレスは、24が基本
- サブネットの分割は、ルーティングとアベイラビリティゾーンを基準に
1. インターネットアクセスの有無、拠点アクセスの有無など、ルーティングポリシーに基づいてわける
2. 災害対策などの理由で、二つ以上のアベイラビリティゾーンを使用する


## 作成手順
VPC を作成
- 名前タグはわかりやすいもの
- IPV4 をCIDRブロックで指定
- その他はデフォルト

サブネットを作成
- VPCと結びつける

インターネットゲートウェイ作成
- VPCにアタッチ

ルートテーブル作成
- サブネットを関連付ける


